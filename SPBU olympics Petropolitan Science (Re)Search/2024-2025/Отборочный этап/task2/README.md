# Алгоритм выравнивания изображения документа

Для выполнения задачи выравнивания изображения документа с текстом и изображением был разработан алгоритм, использующий библиотеку OpenCV, которая предоставляет эффективные инструменты для обработки изображений.

## Этапы работы алгоритма:

1. **Чтение и преобразование изображения:**
   - Исходное изображение сначала читается и преобразуется в градации серого. Это упрощает дальнейшую обработку, так как мы фокусируемся на яркости пикселей, а не на их цвете, что важно для анализа текста. Преобразование в серый цвет снижает объём вычислений, ускоряя работу алгоритма.

2. **Удаление шума:**
   - Для уменьшения влияния шума применяется Гауссово размытие, которое сглаживает резкие изменения яркости и устраняет мелкие артефакты. Это помогает повысить точность нахождения угла наклона.

3. **Выделение контуров:**
   - Для выделения границ объектов используется алгоритм Кэнни:
     - **Удаление шума**: фильтрация с использованием оператора Гаусса для устранения мелких шумов.
     - **Выделение границ**: алгоритм вычисляет градиенты изображения и ищет максимальные изменения яркости, что помогает найти границы объектов.
     - **Двойной порог**: применяет пороговую фильтрацию для отделения сильных и слабых контуров.

4. **Преобразование Хафа:**
   - Для нахождения угла наклона документа используется преобразование Хафа, которое находит прямые линии на изображении. Каждая линия представляется в полярной системе координат, где вычисляются параметры (расстояние и угол наклона).
   - Все найденные углы собираются в список, и вычисляется медианный угол, который является более устойчивым к выбросам и случайным отклонениям.

5. **Коррекция угла наклона:**
   - После нахождения медианного угла наклона изображение поворачивается на противоположный угол с помощью аффинного преобразования. Пустые участки, образующиеся после поворота, заполняются белым цветом, чтобы документ оставался эстетичным.

## Экспериментальная проверка:

Для проверки работы алгоритма были использованы 6 изображений-документов, содержащих текст и графику (диаграммы, графики и изображения), с углами наклона от -45° до 45°. После применения алгоритма все изображения были скорректированы и выровнены.

Результаты показали, что алгоритм успешно корректирует угол наклона, приводя текст в горизонтальное положение, при этом остальные элементы документа (графика, диаграммы) остаются неизменными. Визуальный анализ подтвердил корректность выравнивания, что соответствует требованию задачи.
